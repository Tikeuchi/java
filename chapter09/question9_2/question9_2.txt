question9_2

question9_1で作ったプログラムを下記に従って改造し、ファイル圧縮ソフトを作ってください。

・ファイルを書き込む際、java.util.zip.GZIPOutputStreamを使って圧縮する。
・ファイルの書き込みには必ずバッファリングを行う。
・例外処理を正しく行う。

◇準備

(1) 圧縮元ファイルを用意します

qustion9_1で用意したファイルを使用します。

(2) 引数を設定して実行

プロジェクトファイルを右クリックし「実行」→「実行の構成」をクリックする。
引数タブをクリックしてプログラムの引数を以下のように設定します。

c:\javatest\任意のテキストファイル名.txt
c:\javatest\任意のテキストファイル名.txt.zip

実行ボタンをクリックして、ファイルの圧縮が実行できることを確認する。



■解説

・ファイルを圧縮するにはGZIPOutputStreamクラスを使います
・writeメソッドを使って、書き込むデータをバッファに保存します
・データを1バイトずつ読み込んでバッファに書き込む処理をwhile文で行います

・読み込みが終わったら、バッファのデータをファイルに書き込みます
	gzos.flush();
・書き込みが終わったら、ファイルをクローズします
	gzos.close(); fis.close();

※この問題の例外処理については用意しておきました